---
// src/layouts/AdminLayout.astro
import "../style/global.css";
import AdminSidebar from "../components/AdminSidebar.astro";
const { title } = Astro.props;
---

<html lang="id">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width" />
        <title>{title} | Admin Ngenyangin</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap"
            rel="stylesheet"
        />
    </head>
    <body class="bg-[#FDFBF7] font-['Poppins'] text-gray-800">
        <div class="flex h-screen overflow-hidden">
            <AdminSidebar />

            <div
                id="sidebar-overlay"
                class="fixed inset-0 bg-black opacity-50 z-40 hidden md:hidden"
            >
            </div>

            <div
                class="relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden"
            >
                <header
                    class="py-6 px-4 md:px-8 flex justify-between items-center bg-[#FDFBF7]"
                >
                    <div class="flex items-center gap-4">
                        <button
                            id="open-sidebar"
                            class="md:hidden text-gray-700 focus:outline-none"
                        >
                            <svg
                                class="w-8 h-8"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M4 6h16M4 12h16M4 18h16"></path>
                            </svg>
                        </button>

                        <h2
                            class="text-2xl md:text-3xl mr-4 font-extrabold text-[#1A1A1A]">
                            {title}
                        </h2>
                    </div>

                    <div class="flex items-center gap-4">
    

                        <div
                            class="flex items-center bg-white rounded-full px-2 py-1 md:pr-4 shadow-sm border border-gray-100"
                        >
                            <div
                                class="bg-[#FFC107] text-white w-8 h-8 rounded-full flex items-center justify-center font-bold md:mr-3 text-xs shadow-inner"
                            >
                                A
                            </div>
                            <span
                                class="font-bold text-sm text-gray-700 hidden md:block"
                                >Admin</span
                            >
                        </div>
                    </div>
                </header>

                <main class="w-full flex-grow px-4 md:px-8 pb-8">
                    <slot />
                </main>
            </div>
        </div>

        <script>
            const sidebar = document.getElementById("admin-sidebar");
            const openBtn = document.getElementById("open-sidebar");
            const closeBtn = document.getElementById("close-sidebar");
            const overlay = document.getElementById("sidebar-overlay");

            if (sidebar && openBtn && closeBtn && overlay) {
                // Fungsi Buka Sidebar
                openBtn.addEventListener("click", () => {
                    sidebar.classList.remove("-translate-x-full");
                    overlay.classList.remove("hidden");
                });

                // Fungsi Tutup Sidebar
                const closeSidebar = () => {
                    sidebar.classList.add("-translate-x-full");
                    overlay.classList.add("hidden");
                };

                closeBtn.addEventListener("click", closeSidebar);
                overlay.addEventListener("click", closeSidebar);
            }
        </script>
    </body>
</html>
